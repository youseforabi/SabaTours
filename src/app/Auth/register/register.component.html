<div class="login-container">
    <div class="login-box">
      <h2>Register</h2>
  
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="input-group file-input">
          <label for="profilePicture" class="file-label">Choose Profile Picture</label>
          <input type="file" id="profilePicture" (change)="onFileSelected($event)" hidden />
      </div>
      
      <!-- ✅ الصورة خارج مجموعة الإدخال، بحيث تظهر في المنتصف فوق الزر -->
      <div *ngIf="imagePreview" class="image-preview">
          <img [src]="imagePreview" alt="Profile Picture Preview">
      </div>
        <div class="input-group">
            <input type="text" formControlName="name" placeholder="name" />
            <div *ngIf="f['name'].errors && f['name'].touched">
              <small class="error" *ngIf="f['name'].errors['required']">name is required.</small>
              <small class="error" *ngIf="f['name'].errors['minlength']">Must be at least 3 characters.</small>
            </div>
        </div>
  
        <div class="input-group">
            <input type="email" formControlName="email" placeholder="Email" />
            <div *ngIf="f['email'].errors && f['email'].touched">
              <small class="error" *ngIf="f['email'].errors['required']">Email is required.</small>
              <small class="error" *ngIf="f['email'].errors['email']">Invalid email format.</small>
            </div>
        </div>
  
        <div class="input-group">
            <input type="password" formControlName="password" placeholder="Password" />
            <div *ngIf="f['password'].errors && f['password'].touched">
              <small class="error" *ngIf="f['password'].errors['required']">Password is required.</small>
              <small class="error" *ngIf="f['password'].errors['minlength']">Minimum 6 characters required.</small>
              <small class="error" *ngIf="f['password'].errors['pattern']">Must contain at least one uppercase letter, one number, and one special character.</small>
            </div>
        </div>
  
        <div class="input-group">
            <input type="password" formControlName="confirmPassword" placeholder="Confirm Password" />

            <div *ngIf="(f['confirmPassword'].touched || f['password'].touched) && registerForm.errors?.['mismatch']">

              <small class="error">Passwords do not match.</small>
            </div>
        </div>

        <div class="input-group">
            <input type="text" formControlName="location" placeholder="location" />
            <div *ngIf="f['location'].errors && f['location'].touched">
              <small class="error" *ngIf="f['location'].errors['required']">location is required.</small>
            </div>
        </div>
        <div class="input-group">
            <input type="text" formControlName="phone" placeholder="Phone" />
            <div *ngIf="f['phone'].errors && f['phone'].touched">
              <small class="error" *ngIf="f['phone'].errors['required']">phone is required.</small>
              <small class="error" *ngIf="f['phone'].errors['minlength']">Must be at least 3 characters.</small>
            </div>
        </div>

     
  
        <button type="submit" class="btn">Register Now</button>
      </form>
    </div>
</div>
