(function(g){var window=this;'use strict';var oF=function(Q){Q.publish("cardstatechange",Q.ZC()&&Q.t_()?1:0)},JH=function(Q,z){var H=g.mZ(z),f=H?z:arguments;
for(H=H?0:1;H<f.length;H++){if(Q==null)return;Q=Q[f[H]]}return Q},au5=function(Q){var z=g.GJ(Q);
Q=g.FL(Q);return new g.S$(z.x,z.y,Q.width,Q.height)},Uos=function(Q,z,H){var f=f===void 0?{}:f;
var b;return b=g.FX(Q,z,function(){g.xQ(b);H.apply(Q,arguments)},f)},AH=function(Q){Q=g.Tu(Q);
delete NL[Q];g.Ys(NL)&&IF&&IF.stop()},iwB=function(){IF||(IF=new g.e_(function(){ccu()},20));
var Q=IF;Q.isActive()||Q.start()},ccu=function(){var Q=g.Qs();
g.G2(NL,function(z){hoY(z,Q)});
g.Ys(NL)||iwB()},YD=function(Q,z,H,f){g.MP.call(this);
if(!Array.isArray(Q)||!Array.isArray(z))throw Error("Start and end parameters must be arrays");if(Q.length!=z.length)throw Error("Start and end points must be the same length");this.B=Q;this.Y=z;this.duration=H;this.S=f;this.coords=[];this.progress=this.j=0;this.D=null},hoY=function(Q,z){z<Q.startTime&&(Q.endTime=z+Q.endTime-Q.startTime,Q.startTime=z);
Q.progress=(z-Q.startTime)/(Q.endTime-Q.startTime);Q.progress>1&&(Q.progress=1);Q.j=1E3/(z-Q.D);Q.D=z;W6s(Q,Q.progress);Q.progress==1?(Q.Z=0,AH(Q),Q.onFinish(),Q.f9()):Q.isPlaying()&&Q.nC()},W6s=function(Q,z){typeof Q.S==="function"&&(z=Q.S(z));
Q.coords=Array(Q.B.length);for(var H=0;H<Q.B.length;H++)Q.coords[H]=(Q.Y[H]-Q.B[H])*z+Q.B[H]},DoO=function(Q,z){g.Px.call(this,Q);
this.coords=z.coords;this.x=z.coords[0];this.y=z.coords[1];this.z=z.coords[2];this.duration=z.duration;this.progress=z.progress;this.fps=z.j;this.state=z.Z},rL=function(Q,z,H,f,b){YD.call(this,z,H,f,b);
this.element=Q},K6x=function(Q,z,H,f,b){if(z.length!=2||H.length!=2)throw Error("Start and end points must be 2D");
rL.call(this,Q,z,H,f,b)},V4s=function(Q){return Math.pow(Q,3)},doY=function(Q){return 3*Q*Q-2*Q*Q*Q},mou=function(Q){g.h.call(this);
this.B=Q||window;this.Z=[]},Bh=function(Q){return Q.baseUrl||null},Ph=function(Q,z){return g.yP(g.J5(Q,z),function(H){return!!H})},wqR=function(Q,z,H){function f(SY){var Q9=SY.hovercardButton;
if(!Q9)return null;Q9=Q9.subscribeButtonRenderer;if(!Q9)return null;var V=L(Q9.unsubscribedButtonText),R=L(Q9.subscribedButtonText);if(Q9.subscribed){var Z=L(Q9.subscriberCountWithUnsubscribeText);var d=L(Q9.subscriberCountText)}else Z=L(Q9.subscriberCountText),d=L(Q9.subscriberCountWithSubscribeText);var h8=null;if(SY.signinEndpoint){h8=JH(SY,"signinEndpoint","webNavigationEndpointData","url");if(!h8){var $O,Cs;h8=(Cs=g.K(($O=Q9.signInEndpoint)==null?void 0:$O.commandMetadata,g.ZX))==null?void 0:
Cs.url}if(!h8)return null}return V&&(R||h8)?{subscribed:Q9.subscribed,subscribeText:V,subscribeCount:Z,unsubscribeText:R,unsubscribeCount:d,enabled:Q9.enabled,signinUrl:h8,classic:SY.useClassicSubscribeButton}:null}
function b(SY){if(SY){var Q9=[],V=SY.videoId;V&&Q9.push("v="+V);(V=SY.playlistId)&&Q9.push("list="+V);(SY=SY.startTimeSeconds)&&Q9.push("t="+SY);return"/watch?"+Q9.join("&")}}
function L(SY){if(!SY)return null;var Q9=SY.simpleText;return Q9?Q9:SY.runs?g.J5(SY.runs,function(V){return V.text}).join(""):null}
z=z.endscreenElementRenderer;if(!z)return null;var u=z.style,X=z.endpoint||{},v=null,y=null,q=!1,M=null,C=null,t=null,E=null,G=!1,x=null,J=null,I=null,r=null,U=null,D=null;if(u==="VIDEO")g.K(X,g.Uc)?v=g.K(X,g.Uc).url:(D=g.K(X,g.ew),v=b(D)),y=!1,M=Q,z.thumbnailOverlays?(q=z.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,C=L(q.text),q=q.style==="LIVE"):C=L(z.videoDuration);else if(u==="PLAYLIST")g.K(X,g.Uc)?v=g.K(X,g.Uc).url:(D=g.K(X,g.ew),v=b(D)),y=!1,M=Q,t=L(z.playlistLength);else if(u===
"CHANNEL"){if(G=JH(X,"browseEndpoint","browseId"))E=G,v="/channel/"+E;y=!1;M="new";(G=!!z.isSubscribe)?x=f(z):J=L(z.subscribersText)}else u==="WEBSITE"?((I=JH(X,"urlEndpoint","url"))&&(v=I),y=!0,M="new",I=z.icon.thumbnails[0].url):u==="CREATOR_MERCHANDISE"&&(z.productPrice&&(r=L(z.productPrice)),z.additionalFeesText&&(U=L(z.additionalFeesText)),(y=JH(X,"urlEndpoint","url"))&&(v=y),y=!0,M="new");Q=JH(z,"title","accessibility","accessibilityData","label");var T=z.endpoint?z.endpoint.clickTrackingParams:
null,k="";if(z.metadata){var bL=L(z.metadata);bL&&(k=bL)}return{id:"element-"+H,type:u,title:L(z.title),metadata:k,callToAction:L(z.callToAction),O8:z.image,iconUrl:I,left:Number(z.left),width:Number(z.width),top:Number(z.top),aspectRatio:Number(z.aspectRatio),startMs:Math.floor(Number(z.startMs)),endMs:Math.floor(Number(z.endMs)),videoDuration:C,kA:q,playlistLength:t,channelId:E,subscribeButton:x,subscribersText:J,isSubscribe:G,targetUrl:v||null,zSv:y,sessionData:T?{itct:T}:null,hun:M,D_:Q?Q:null,
isPlaceholder:z.isPlaceholder,impressionUrls:Ph(z.impressionUrls||[],Bh),WqT:Ph(z.hovercardShowUrls||[],Bh),clickUrls:Ph(X.loggingUrls||[],Bh),visualElement:g.FG(z.trackingParams),productPrice:r,additionalFeesText:U,watchEndpoint:D||null}},kHJ=function(Q,z){var H={startMs:Math.floor(Number(Q.startMs)),
impressionUrls:Ph(Q.impressionUrls||[],Bh),elements:Ph(Q.elements||[],function(f,b){return wqR(z,f,b)})};
Q.trackingParams&&(H.visualElement=g.FG(Q.trackingParams));return H},Tqu=function(Q){g.g3.call(this,Q);
this.D=this.endscreen=null;this.B={};this.j={};this.S=this.L=null;this.N=[];this.Z=null;this.Ze=!0;this.Y=0;Q=Q.C();this.U=g.AE(Q)||g.rm(Q);this.events=new g.Bt(this);g.W(this,this.events);this.events.X(this.player,g.bc("creatorendscreen"),this.onCueRangeEnter);this.events.X(this.player,g.Li("creatorendscreen"),this.onCueRangeExit);this.events.X(this.player,"resize",this.tZ);this.events.X(window,"focus",this.iiT);this.load();var z=g.Hx("STYLE");(g.V4("HEAD")[0]||document.body).appendChild(z);this.addOnDisposeCallback(function(){g.Sz(z)});
z.sheet&&(z.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),z.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},eoL=function(Q){return Q.player.getVideoData().gV?"current":Q.U?"new":"current"},aF=function(Q){return Q.player.C().playerStyle==="creator-endscreen-editor"},luL=function(Q){var z=Q.player.getVideoData(),H=z.videoId;
Q.D&&Q.D.abort();H={method:"POST",onFinish:function(b){var L=Q.D=null;b.status===200&&(b=b.responseText,b.substring(0,3)===")]}"&&(b=b.substring(3),L=JSON.parse(b),L=kHJ(L,eoL(Q))));Uw(Q,L)},
urlParams:{v:H},withCredentials:!0};Q.U&&(H.urlParams.ptype="embedded");var f=z.qx;f&&(H.postParams={ad_tracking:f});if(z=g.y78(z))if(z=g.Yg(z),z=g.NO(z))Q.D=g.JF(z,H)},Uw=function(Q,z,H){H=H===void 0?!0:H;
Q.player.Ys("creatorendscreen");Q.L&&(Q.L.dispose(),Q.L=null,Q.S.dispose(),Q.S=null);for(var f=g.n(Object.values(Q.B)),b=f.next();!b.done;b=f.next())b.value.dispose();Q.B={};Q.j={};Q.N.length>0&&(Q.N.forEach(function(X){X.dispose()}),Q.N.length=0);
Q.Z&&(g.vO(Q.Z,"ytp-ce-element-show"),Q.Z.setAttribute("aria-hidden","true"));Q.Y=0;if((Q.endscreen=z)&&z.elements){H&&RoB(Q);H=[];f=new g.HD(z.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});H.push(f);Q.player.C().B||(Q.L=new g.m({G:"div",J:"ytp-ce-shadow"}),g.sZ(Q.player,Q.L.element,4),Q.S=new g.H6(Q.L,200));for(f=0;f<z.elements.length;++f){b=z.elements[f];var L=Q$O(Q,b);if(L){Q.B[b.id]=L;Q.j[b.id]=b;g.sZ(Q.player,L.element,4);var u=new g.HD(b.startMs,b.endMs,{id:"ytp-ce-element-"+
b.id,namespace:"creatorendscreen"});H.push(u);zOT(Q,L,b)}else g.PT(new g.wD("buildEndscreenElement null",b))}Q.player.UZ(H);Q.tZ()}},RoB=function(Q){var z=g.OX(),H=g.ox();
H&&z&&Q.endscreen.visualElement&&g.QC(g.wl)(void 0,H,z,Q.endscreen.visualElement)},Q$O=function(Q,z){var H=null;
switch(z.type){case "VIDEO":Q={G:"div",lT:["ytp-ce-element","ytp-ce-video"],T:{tabindex:"0","aria-label":z.D_||"","aria-hidden":"true"},W:[{G:"div",J:"ytp-ce-element-shadow"},{G:"div",J:"ytp-ce-covering-image",T:ch(z)},{G:"div",J:"ytp-ce-covering-shadow-top"},{G:"a",J:"ytp-ce-covering-overlay",T:{href:i3(Q,z.targetUrl),tabindex:"-1"},W:[{G:"div",lT:["ytp-ce-video-title","ytp-webkit-ellipsis"],T:{dir:g.nZ(z.title||"")},BI:z.title},{G:"div",J:z.kA?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
BI:z.videoDuration||void 0}]}]};H=new g.m(Q);break;case "PLAYLIST":Q={G:"div",lT:["ytp-ce-element","ytp-ce-playlist"],T:{tabindex:"0","aria-label":z.D_||"","aria-hidden":"true"},W:[{G:"div",J:"ytp-ce-element-shadow"},{G:"div",J:"ytp-ce-covering-image",T:ch(z)},{G:"div",J:"ytp-ce-covering-shadow-top"},{G:"a",J:"ytp-ce-covering-overlay",T:{href:i3(Q,z.targetUrl),tabindex:"-1"},W:[{G:"div",lT:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],T:{dir:g.nZ(z.title||"")},BI:z.title},{G:"div",J:"ytp-ce-playlist-count",
W:[{G:"div",J:"ytp-ce-playlist-icon"},{G:"div",J:"ytp-ce-playlist-count-text",BI:z.playlistLength||void 0}]}]}]};H=new g.m(Q);break;case "CHANNEL":H={G:"div",lT:["ytp-ce-element","ytp-ce-channel",z.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],T:{tabindex:"0","aria-label":z.D_||"","aria-hidden":"true"},W:[{G:"div",J:"ytp-ce-element-shadow"},{G:"div",J:"ytp-ce-expanding-overlay",W:[{G:"div",J:"ytp-ce-expanding-overlay-hider"},{G:"div",J:"ytp-ce-expanding-overlay-background"},{G:"div",J:"ytp-ce-expanding-overlay-content",
W:[{G:"div",J:"ytp-ce-expanding-overlay-body",W:[{G:"div",J:"ytp-ce-expanding-overlay-body-padding",W:[{G:"a",lT:["ytp-ce-channel-title","ytp-ce-link"],T:{href:i3(Q,z.targetUrl),target:"_blank",tabindex:"-1",dir:g.nZ(z.title||"")},BI:z.title},z.subscribeButton?{G:"div",J:"ytp-ce-subscribe-container",W:[{G:"div",J:"ytp-ce-channel-subscribe"}]}:"",z.subscribersText?{G:"div",J:"ytp-ce-channel-subscribers-text",BI:z.subscribersText}:"",z.metadata?{G:"div",lT:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],BI:z.metadata}:""]}]}]}]},{G:"div",J:"ytp-ce-expanding-image",T:ch(z)}]};H=new g.m(H);var f=g.mS(document,"div","ytp-ce-channel-subscribe",H.element)[0];if(z.subscribeButton&&z.channelId){g.SK(f,"ytp-ce-subscribe-button");if(Q.player.C().B){var b=null;var L=z.sessionData.itct}else b="endscreen",L=null;b=new g.QI(z.subscribeButton.subscribeText,z.subscribeButton.subscribeCount,z.subscribeButton.unsubscribeText,z.subscribeButton.unsubscribeCount,!!z.subscribeButton.enabled,!!z.subscribeButton.classic,
z.channelId,!!z.subscribeButton.subscribed,b,L,Q.player,!1);f.appendChild(b.element);Q.N.push(b)}break;case "WEBSITE":Q={G:"div",lT:["ytp-ce-element","ytp-ce-website"],T:{tabindex:"0","aria-label":z.D_||"","aria-hidden":"true"},W:[{G:"div",J:"ytp-ce-element-shadow"},{G:"div",J:"ytp-ce-expanding-overlay",W:[{G:"div",J:"ytp-ce-expanding-overlay-hider"},{G:"div",J:"ytp-ce-expanding-overlay-background"},{G:"div",J:"ytp-ce-expanding-overlay-content",W:[{G:"div",J:"ytp-ce-expanding-overlay-body",W:[{G:"div",
J:"ytp-ce-expanding-overlay-body-padding",W:[{G:"div",J:"ytp-ce-website-title",T:{dir:g.nZ(z.title||"")},BI:z.title},{G:"div",J:"ytp-ce-website-metadata",BI:z.metadata},{G:"a",lT:["ytp-ce-website-goto","ytp-ce-link"],T:{href:i3(Q,z.targetUrl),target:"_blank",tabindex:"-1"},BI:z.callToAction}]}]}]}]},{G:"div",J:"ytp-ce-expanding-image",T:ch(z)},{G:"div",J:"ytp-ce-expanding-icon",T:H$x(z.iconUrl)}]};H=new g.m(Q);break;case "CREATOR_MERCHANDISE":H="",z.productPrice&&(H={G:"div",J:"ytp-ce-merchandise-price-container",
W:[{G:"div",J:"ytp-ce-merchandise-price",BI:z.productPrice}]},z.additionalFeesText&&H.W.push({G:"div",J:"ytp-ce-merchandise-additional-fees",BI:z.additionalFeesText})),Q={G:"div",lT:["ytp-ce-element","ytp-ce-merchandise"],T:{tabindex:"0","aria-label":z.D_||"","aria-hidden":"true"},W:[{G:"div",J:"ytp-ce-element-shadow"},{G:"div",J:"ytp-ce-expanding-overlay",W:[{G:"div",J:"ytp-ce-expanding-overlay-hider"},{G:"div",J:"ytp-ce-expanding-overlay-background"},{G:"div",J:"ytp-ce-expanding-overlay-content",
W:[{G:"div",J:"ytp-ce-expanding-overlay-body",W:[{G:"div",J:"ytp-ce-expanding-overlay-body-padding",W:[{G:"div",J:"ytp-ce-merchandise-title",T:{dir:g.nZ(z.title||"")},BI:z.title},H,{G:"div",J:"ytp-ce-merchandise-metadata",BI:z.metadata},{G:"a",lT:["ytp-ce-merchandise-goto","ytp-ce-link"],T:{href:i3(Q,z.targetUrl),target:"_blank",tabindex:"-1"},BI:z.callToAction}]}]}]}]},{G:"div",J:"ytp-ce-expanding-image",T:ch(z)},{G:"div",J:"ytp-ce-merchandise-invideo-cta-container",W:[{G:"div",J:"ytp-ce-merchandise-invideo-cta",
BI:z.callToAction||void 0}]}]},H=new g.m(Q)}z.isPlaceholder&&g.SK(H.element,"ytp-ce-placeholder");return H},ch=function(Q){if(Q.O8)var z=Q.O8.thumbnails;
return H$x(z?z[z.length-1].url:null)},H$x=function(Q){return Q?{style:"background-image: url("+Q+")"}:{}},zOT=function(Q,z,H){function f(v){v&&(z.listen("blur",function(){v.style.display!="none"&&Q.Ze&&v.focus()}),z.X(v,"focus",L),z.X(v,"blur",u))}
function b(v){Q.Y+=v;Q.Y>0?(g.SK(z.element,"ytp-ce-force-expand"),hH(Q,H.id,!0)):(g.vO(z.element,"ytp-ce-force-expand"),g.vO(z.element,"ytp-ce-element-hover"),hH(Q,H.id,!1))}
function L(){b(1)}
function u(){b(-1)}
z.listen("mouseenter",function(){fTs(Q,z,H)});
z.listen("mouseleave",function(){b$u(Q,z,H)});
Q.player.C().B||z.listen("click",function(){g.SK(z.element,"ytp-ce-element-hover")});
z.listen("click",function(v){LTY(Q,H,v)});
z.listen("keypress",function(v){LTY(Q,H,v)});
z.listen("focus",function(){fTs(Q,z,H)});
z.listen("blur",function(){b$u(Q,z,H)});
z.listen("touchstart",function(){fTs(Q,z,H)});
var X=g.T2("ytp-ce-expanding-overlay-hider",z.element);X&&z.X(X,"touchstart",function(v){v.stopPropagation();g.vO(z.element,"ytp-ce-element-hover");g.vO(z.element,"ytp-ce-force-expand")});
z.listen("keydown",function(v){Q.Ze=v.keyCode===9&&!v.shiftKey});
f(g.T2("ytp-sb-subscribe",z.element));f(g.T2("ytp-sb-unsubscribe",z.element));z.listen("focus",L);z.listen("blur",u)},LTY=function(Q,z,H){if(z.targetUrl&&(!H||H.type!=="keypress"||H.keyCode===13)){for(var f=H.target;f&&!g.un(f,"ytp-ce-element");){g.un(f,"subscribe-label")&&u3R(Q,z);
if(g.un(f,"ytp-ce-channel-subscribe"))return;f=f.parentElement||null}if(!f||g.un(f,"ytp-ce-element-hover")){H.preventDefault();H.stopPropagation();if(f=Q.B[z.id])b$u(Q,f,z),f.element.blur();if(H.ctrlKey||H.metaKey||z.hun==="new")u3R(Q,z),Q.player.sendVideoStatsEngageEvent(17,void 0),Q.player.pauseVideo(),H=g.Yg(i3(Q,z.targetUrl)),H=g.NO(H),g.Kp(H,void 0,z.sessionData);else{var b=g.mD(Q.player.C())||Q.player.getVideoData().gV,L=function(){var u=i3(Q,z.targetUrl),X=z.sessionData,v=z.watchEndpoint,y=
g.uv(u);b&&y&&(y.v||y.list)?Q.player.cN(y.v,X,y.list,!1,void 0,v||void 0):g.Dh(u,X)};
u3R(Q,z,function(){Q.player.sendVideoStatsEngageEvent(17,L)})}}}},i3=function(Q,z){Q=Q.player.C();
if(z){if(z.startsWith("//"))return Q.protocol+":"+z;if(z.startsWith("/"))return g.Qc(Q)+z}else return"";return z},fTs=function(Q,z,H){g.un(z.element,"ytp-ce-element-hover")||(H.type==="VIDEO"||H.type==="PLAYLIST"?g.SK(z.element,"ytp-ce-element-hover"):Q.player.C().B?(new g.e_(function(){g.SK(z.element,"ytp-ce-element-hover")},200)).start():g.SK(z.element,"ytp-ce-element-hover"),Wh(Q,H.WqT),hH(Q,H.id,!0))},b$u=function(Q,z,H){g.vO(z.element,"ytp-ce-element-hover");
g.vO(z.element,"ytp-ce-force-expand");hH(Q,H.id,!1)},hH=function(Q,z,H){Q.L&&(H?Q.S.show():Q.S.hide());
for(var f=g.n(Object.keys(Q.B)),b=f.next();!b.done;b=f.next())b=b.value,b!==z&&g.qP(Q.B[b].element,"ytp-ce-element-shadow-show",H)},Wh=function(Q,z,H){function f(){L||(b++,b===z.length&&(u.stop(),H&&H()))}
if(!z||z.length===0||aF(Q))H&&H();else{z=SKu(Q,z);var b=0,L=!1,u=new g.e_(function(){L=!0;H&&H()},1E3,Q);
u.start();for(Q=0;Q<z.length;Q++)g.WU(z[Q],f)}},u3R=function(Q,z,H){Wh(Q,z.clickUrls,H);
(Q=g.ox())&&z.zSv&&g.La(Q,z.visualElement)},SKu=function(Q,z){var H=Q.player.getVideoData().clientPlaybackNonce;
Q=Q.player.getCurrentTime().toFixed(2);H={CPN:H,AD_CPN:H,MT:Q};Q=[];for(var f=0;f<z.length;f++)Q.push(XJt(z[f],H));return Q},XJt=function(Q,z){return Q.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(H){var f=unescape(H);
f=f.substring(1,f.length-1);return z[f]?escape(z[f]):H})},vgT=function(Q){return typeof Q==="string"?Q:""},Df=function(Q,z,H){for(var f in z)if(z[f]===Q)return Q;
return H},ybT=function(Q,z,H,f){this.value=Q;
this.target=z;this.showLinkIcon=H;this.Z=f},Ke=function(Q){return Q.value?Q.value:null},Vm=function(Q){if(!Q)return null;
var z=g.Yg(vgT(Q.value));z=g.NO(z);if(!z)return null;var H=Df(Q.target,qKT,"current");if(H==null)Q=null;else{var f=Q.show_link_icon;Q=new ybT(z,H,f==="true"||f==="false"?f==="true":!0,Q.pause_on_navigation!=null?Q.pause_on_navigation:!0)}return Q},Me5=function(Q,z,H){this.type=Q;
this.trigger=z;this.url=H},EgY=function(Q){if(!Q)return null;
var z=Df(Q.type,Czu),H=Df(Q.trigger,teu);Q=Q.url;Q=Array.isArray(Q)&&Q.length?Q[0]:Q;Q=Vm(Q?Q:null);return z?new Me5(z,H,Q):null},pJY=function(Q,z,H,f,b){this.id=Q;
this.type=z;this.style=H;this.data=b;this.action=f||[]},ngx=function(Q,z){return g.mB(Q.action,z)},ggL=function(Q,z){this.context=Q;
this.Z=z},Z$t=function(Q){return Q.customMessage?dL("div","iv-card-message",Q.customMessage):""},mA=function(Q,z){Q="background-image: url("+Q+");";
var H=[];z&&H.push(z);return{G:"div",J:"iv-card-image",T:{style:Q},W:H}},GUL=function(Q){if(!Q.metaInfo||Q.metaInfo.length===0)return"";
var z=[];Q=g.n(Q.metaInfo);for(var H=Q.next();!H.done;H=Q.next())z.push(dL("li","",H.value));return{G:"ul",J:"iv-card-meta-info",W:z}},dL=function(Q,z,H){z?typeof z==="string"?z={"class":z}:Array.isArray(z)&&(z={"class":z.join(" ")}):z={};
z.dir=g.nZ(H);return{G:Q,T:z,BI:H}},$Ou=function(Q){if(!Q.customMessage)return"";
var z=["iv-card-action","iv-card-primary-link"],H={};Q.cX&&(z.push("iv-card-action-icon"),H.style="background-image: url("+Q.cX+");");H.dir=g.nZ(Q.customMessage);var f=[{G:"span",BI:Q.customMessage}];Q.showLinkIcon&&(f.push("\u00a0"),f.push({G:"span",J:"iv-card-link-icon"}));return{G:"div",lT:z,T:H,W:f}},wL=function(Q,z,H,f){if(f){z=g.n(z);
for(var b=z.next();!b.done;b=z.next())Q.Z(b.value,f,H.id,H.sessionData,H.oN.click,5)}},j$R=function(Q,z){this.merchant=Q;
this.price=z},FTs=function(Q){var z;
(z=Q)&&!(z=Q.length>1?Q.charAt(0)==="/"&&Q.charAt(1)!=="/":Q==="/")&&(z=Q.replace(/^(https?:)?\/\//,"").split("/",1),z=!z||z.length<1||!z[0]?[]:z[0].toLowerCase().split(".").reverse(),z=z[0]==="com"&&z[1]==="youtube"||z[0]==="be"&&z[1]==="youtu");return z?Q.indexOf("/redirect?")===-1:!1},xOt=function(Q,z){return z?z:FTs(Q)?"current":"new"},kD=function(Q,z){g.h.call(this);
var H=this;this.element=Q;this.context=z;this.rT=!1;this.iT=new Map;this.uT=new Map;this.context.K.addEventListener(g.bc("annotations_module"),function(f){(f=H.iT.get(f))&&f.apply(H)});
this.context.K.addEventListener(g.Li("annotations_module"),function(f){(f=H.uT.get(f))&&f.apply(H)})},TW=function(Q,z,H,f,b,L,u){Q.context.Z.listen(z,"click",function(X){Q.YB(H,f,b,L||[],u||0,X)});
Q.context.Z.listen(z,"touchstart",function(){Q.rT=!1});
Q.context.Z.listen(z,"touchmove",function(){Q.rT=!0})},O$s=function(Q){var z;
return((z=g.K(Q,g.Uc))==null?0:z.url)?g.K(Q,g.Uc).url:(Q=g.K(Q,g.ew))&&Q.videoId?(z="/watch?v="+Q.videoId,Q.playlistId&&(z+="&list="+Q.playlistId),Q.index&&(z+="&index="+Q.index),Q.startTimeSeconds&&(z+="&t="+Q.startTimeSeconds),z):null},e2=function(Q,z,H){return{po:(Q.impressionLoggingUrlsV2s||[]).map(function(f){return f.baseUrl||""}),
click:(H.loggingUrls||[]).map(function(f){return f.baseUrl||""}),
close:(z.dismissLoggingUrlsV2s||[]).map(function(f){return f.baseUrl||""}),
Og:(z.impressionLoggingUrlsV2s||[]).map(function(f){return f.baseUrl||""}),
N9:(z.clickLoggingUrlsV2s||[]).map(function(f){return f.baseUrl||""})}},ogO=function(Q,z,H){kD.call(this,z,H);
var f=this;this.K=Q;this.eventId=null;this.yE=this.jm=this.KH=this.L=this.isInitialized=!1;this.cards=[];this.gh=this.N=this.f3=this.S=this.En=this.Z=null;this.Ze=[];this.wh=this.Y=this.Ry=this.yl=null;this.j=0;this.De=new g.e_(function(){},H.rh.ov?4E3:3E3);
g.W(this,this.De);this.WI=new g.e_(function(){});
g.W(this,this.WI);this.L3=new ggL(H,function(b,L,u,X,v,y){TW(f,b,L,u,X,v,y)});
this.U=new g.m({G:"div",J:"iv-drawer",T:{id:"iv-drawer"},W:[{G:"div",J:"iv-drawer-header",T:{"aria-role":"heading"},W:[{G:"span",J:"iv-drawer-header-text"},{G:"button",lT:["iv-drawer-close-button","ytp-button"],T:{"aria-label":"Hide cards",tabindex:"0"}}]},{G:"div",J:"iv-drawer-content"}]});g.W(this,this.U);this.D=this.U.element;this.C3=new g.H6(this.U,330);g.W(this,this.C3);this.ZJ=g.T2("iv-drawer-header-text",this.D);this.B=g.T2("iv-drawer-content",this.D);this.addCueRange(0,H.videoData.lengthSeconds*
1E3,"",function(){f.KH&&l3(f,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(f.KH=f.L)&&RF(f)});
this.mq=new g.Bt(this);g.W(this,this.mq);this.K.addEventListener("videodatachange",this.nt.bind(this))},JbR=function(Q,z){z=z.data;
z.autoOpenMs&&Q.addCueRange(z.autoOpenMs,0x8000000000000,"",function(){l3(Q,"YOUTUBE_DRAWER_AUTO_OPEN")});
z.autoCloseMs&&Q.addCueRange(z.autoCloseMs,0x8000000000000,"",function(){RF(Q)});
var H=z.headerText;g.vx(Q.ZJ,H);Q.N&&Q.N.setAttribute("title",H);z.eventId&&(Q.eventId=z.eventId);Q.yl=g.FG(z.trackingParams);Q.Y=g.FG(z.closeTrackingParams);Q.Ry=g.FG(z.iconTrackingParams)},N$T=function(Q,z){var H=z.cardId?z.cardId:"cr:"+Q.j,f=Q.K.C().experiments.Nc("enable_error_corrections_infocard_web_client");
if(!z.content&&z.teaser.simpleCardTeaserRenderer&&f){var b=z.teaser.simpleCardTeaserRenderer,L=z.icon?z.icon.infoCardIconRenderer:null;z={id:H,timestamp:Q.j,type:"simple",teaserText:g.pa(b.message),teaserDurationMs:Number(z.cueRanges[0].teaserDurationMs),startMs:Number(z.cueRanges[0].startCardActiveMs),autoOpen:!!z.autoOpen,sessionData:{},sponsored:!1,oN:{},T7:null,uc:b.trackingParams?g.FG(b.trackingParams):null,Ry:L&&L.trackingParams?g.FG(L.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
cX:null,title:"",customMessage:"",url:null,onClickCommand:b.onTapCommand||null};QD(Q,z)}else{var u;if((u=z.content)==null?0:u.simpleCardContentRenderer){if(!z.cueRanges.length)return;L=(b=z.content)==null?void 0:b.simpleCardContentRenderer;b=z.teaser.simpleCardTeaserRenderer;var X=z.icon?z.icon.infoCardIconRenderer:null;z={id:H,timestamp:Q.j,type:"simple",teaserText:g.pa(b.message),teaserDurationMs:Number(z.cueRanges[0].teaserDurationMs),startMs:Number(z.cueRanges[0].startCardActiveMs),autoOpen:!!z.autoOpen,
sessionData:zF(Q,H,z,L),sponsored:!1,oN:e2(L,b,L.command),T7:L.trackingParams?g.FG(L.trackingParams):null,uc:b.trackingParams?g.FG(b.trackingParams):null,Ry:X&&X.trackingParams?g.FG(X.trackingParams):null,imageUrl:Hi(L.image.thumbnails,290).url,displayDomain:L.displayDomain?g.pa(L.displayDomain):null,showLinkIcon:!!L.showLinkIcon,cX:null,title:L.title?g.pa(L.title):"",customMessage:L.callToAction?g.pa(L.callToAction):"",url:g.K(L.command,g.Uc).url?Vm({pause_on_navigation:!Q.context.videoData.isLivePlayback,
target:"new",value:g.K(L.command,g.Uc).url}):null,onClickCommand:null};QD(Q,z)}else{var v;if((v=z.content)==null?0:v.collaboratorInfoCardContentRenderer){if(!z.cueRanges.length)return;b=(L=z.content)==null?void 0:L.collaboratorInfoCardContentRenderer;L=z.teaser.simpleCardTeaserRenderer;X=z.icon?z.icon.infoCardIconRenderer:null;z={id:H,timestamp:Q.j,type:"collaborator",teaserText:g.pa(L.message),teaserDurationMs:Number(z.cueRanges[0].teaserDurationMs),startMs:Number(z.cueRanges[0].startCardActiveMs),
autoOpen:!!z.autoOpen,sessionData:zF(Q,H,z,b),sponsored:!1,oN:e2(b,L,b.endpoint),T7:b.trackingParams?g.FG(b.trackingParams):null,uc:L.trackingParams?g.FG(L.trackingParams):null,Ry:X&&X.trackingParams?g.FG(X.trackingParams):null,channelId:g.K(b.endpoint,g.OC).browseId,customMessage:b.customText?g.pa(b.customText):null,profileImageUrl:Hi(b.channelAvatar.thumbnails,290).url,title:b.channelName?g.pa(b.channelName):"",metaInfo:[b.subscriberCountText?g.pa(b.subscriberCountText):""],url:Vm({pause_on_navigation:!Q.context.videoData.isLivePlayback,
target:"new",value:g.K(b.endpoint,g.OC).canonicalBaseUrl?g.K(b.endpoint,g.OC).canonicalBaseUrl:"/channel/"+g.K(b.endpoint,g.OC).browseId}),onClickCommand:null};QD(Q,z)}else{var y;if((y=z.content)==null?0:y.playlistInfoCardContentRenderer){if(!z.cueRanges.length)return;b=(X=z.content)==null?void 0:X.playlistInfoCardContentRenderer;L=z.teaser.simpleCardTeaserRenderer;X=z.icon?z.icon.infoCardIconRenderer:null;z={id:H,timestamp:Q.j,type:"playlist",teaserText:g.pa(L.message),teaserDurationMs:Number(z.cueRanges[0].teaserDurationMs),
startMs:Number(z.cueRanges[0].startCardActiveMs),autoOpen:!!z.autoOpen,sessionData:zF(Q,H,z,b),sponsored:!1,oN:e2(b,L,b.action),T7:b.trackingParams?g.FG(b.trackingParams):null,uc:L.trackingParams?g.FG(L.trackingParams):null,Ry:X&&X.trackingParams?g.FG(X.trackingParams):null,hg:Hi(b.playlistThumbnail.thumbnails,258).url,customMessage:b.customMessage?g.pa(b.customMessage):null,playlistVideoCount:g.pa(b.playlistVideoCount),title:b.playlistTitle?g.pa(b.playlistTitle):"",metaInfo:[b.channelName?g.pa(b.channelName):
"",b.videoCountText?g.pa(b.videoCountText):""],url:Vm({pause_on_navigation:!Q.context.videoData.isLivePlayback,target:"new",value:O$s(b.action)}),onClickCommand:null};QD(Q,z)}else{var q;if((q=z.content)==null?0:q.videoInfoCardContentRenderer){if(!z.cueRanges.length)return;var M;b=(M=z.content)==null?void 0:M.videoInfoCardContentRenderer;L=z.teaser.simpleCardTeaserRenderer;X=z.icon?z.icon.infoCardIconRenderer:null;z={id:H,timestamp:Q.j,type:"video",teaserText:g.pa(L.message),teaserDurationMs:Number(z.cueRanges[0].teaserDurationMs),
startMs:Number(z.cueRanges[0].startCardActiveMs),autoOpen:!!z.autoOpen,sessionData:zF(Q,H,z,b),sponsored:!1,oN:e2(b,L,b.action),T7:b.trackingParams?g.FG(b.trackingParams):null,uc:L.trackingParams?g.FG(L.trackingParams):null,Ry:X&&X.trackingParams?g.FG(X.trackingParams):null,hg:Hi(b.videoThumbnail.thumbnails,258).url,videoDuration:b.lengthString?g.pa(b.lengthString):null,customMessage:b.customMessage?g.pa(b.customMessage):null,title:b.videoTitle?g.pa(b.videoTitle):"",metaInfo:[b.channelName?g.pa(b.channelName):
"",b.viewCountText?g.pa(b.viewCountText):""],isLiveNow:!!b.badge,url:Vm({pause_on_navigation:!Q.context.videoData.isLivePlayback,target:"new",value:O$s(b.action)}),onClickCommand:null};QD(Q,z)}}}}}Q.j++},Hi=function(Q,z){for(var H=-1,f=-1,b=0;b<Q.length;b++){if(Q[b].height===z||Q[b].width===290)return Q[b];
((Q[b].height||0)<z||(Q[b].width||0)<290)&&(H<0||(Q[H].height||0)<(Q[b].height||0)||(Q[H].width||0)<(Q[b].width||0))?H=b:((Q[b].height||0)>=z||(Q[b].width||0)>=290)&&(f<0||(Q[f].height||0)>(Q[b].height||0)||(Q[f].width||0)>(Q[b].width||0))&&(f=b)}return Q[f>=0?f:H]},zF=function(Q,z,H,f){return{feature:H.feature?H.feature:"cards",
src_vid:Q.context.videoData.videoId,annotation_id:z,ei:Q.context.videoData.eventId||"",itct:f.trackingParams||""}},AbB=function(Q,z){if(z=ITs(Q,z))z===Q.Z&&(Q.Z=null),Q.K.removeCueRange(z.dV.id),g.Sz(z.eV),g.e5(Q.cards,z),Q.Zq(),fV(Q)},l3=function(Q,z,H){if(!Q.L){Q.C3.show();
Q.En=new g.e_(function(){g.SK(Q.context.K.getRootNode(),g.WB.IV_DRAWER_OPEN)},0);
Q.En.start();Q.mq.X(Q.B,"mousewheel",function(u){Q.De.start();u.preventDefault();u=u||window.event;var X=0;u.type=="MozMousePixelScroll"?X=0==(u.axis==u.HORIZONTAL_AXIS)?u.detail:0:window.opera?X=u.detail:X=u.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?u.wheelDeltaY/-30:u.wheelDeltaY/-1.2:u.wheelDelta/-1.6:u.wheelDeltaY/-3;if(u=X)Q.B.scrollTop+=u});
Q.L=!0;var f=g.ox();f&&Q.yl&&Q.Y&&g.fa(f,[Q.yl,Q.Y]);z={TRIGGER_TYPE:z};for(var b=g.n(Q.cards),L=b.next();!L.done;L=b.next())L=L.value,L.tq||(L.tq=!0,YKs(Q.context.logger,L.dV.oN.po,z)),f&&g.fa(f,[L.dV.T7]);oF(Q.K);H&&(Q.S=new g.e_(function(){Q.f3=Q.N;Q.gh.focus()},330),Q.S.start())}},RF=function(Q){Q.L&&(Q.C3.hide(),g.Aq(Q.mq),g.vO(Q.context.K.getRootNode(),g.WB.IV_DRAWER_OPEN),Q.L=!1,oF(Q.K),Q.S&&Q.S.stop(),Q.S=new g.e_(function(){Q.f3&&(Q.f3.focus(),Q.f3=null)},330),Q.S.start())},rbs=function(Q){g.X9(Q.ai(),
[g.WB.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.sZ(Q.K,Q.D,5);Q.uK();Q.N=g.T2("ytp-cards-button",Q.K.getRootNode());Q.gh=g.T2("iv-drawer-close-button",Q.D);Q.isInitialized=!0},s$O=function(Q){Q.Ze.push(g.u8("iv-teaser-shown",Q.g9,Q));
Q.Ze.push(g.u8("iv-teaser-hidden",Q.cZq,Q));Q.Ze.push(g.u8("iv-teaser-clicked",Q.UK,Q));Q.yE=!0},B$R=function(Q,z){var H;
return z.onClickCommand&&((H=g.K(z.onClickCommand,g.vTu))==null?void 0:H.targetId)==="engagement-panel-error-corrections"?(Q.wh=z,!0):!1},PzB=function(Q,z){Q.wh=z;
var H=Q.K.getVideoData();if(!H)return!1;H=g.xa(H);if(H==null?0:H.markersMap)for(var f,b=0;((f=H)==null?void 0:f.markersMap.length)>b;b++){var L=void 0,u=(L=H)==null?void 0:L.markersMap[b];if(u.key==="ERROR_CORRECTION_MARKERS"&&(L=void 0,(u=(L=u.value)==null?void 0:L.markers)&&u.length>0))return f=void 0,z.startMs=((f=g.K(u[0],g.koc))==null?void 0:f.timeRangeStartMillis)||0,Q.wh=null,!0}return!1},QD=function(Q,z){if(!B$R(Q,z)||PzB(Q,z)){var H=aTO(Q,z);
if(H){var f={dV:z,eV:H.element,tq:!1};if(z.onClickCommand)Q.K.V("web_infocards_teaser_show_logging_fix")&&(Q.yE||s$O(Q),AbB(Q,z.id),H=Q.findLastIndex(f),g.b4(Q.cards,H,0,f));else{Q.isInitialized||rbs(Q);AbB(Q,z.id);var b=Q.findLastIndex(f);g.b4(Q.cards,b,0,f);H.Gv(Q.B,b);Q.Zq()}z.autoOpen?Q.addCueRange(z.startMs,0x8000000000000,z.id,function(){Q.L||(Q.Z=f,fV(Q),UOt(Q,f),l3(Q,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(H=Q.context.K.getCurrentTime()*1E3,H<5E3&&H>z.startMs&&cbu(Q,f),Q.addCueRange(z.startMs,
z.startMs+1,z.id,function(){cbu(Q,f)}),fV(Q))}}},aTO=function(Q,z){switch(z.type){case "simple":Q=Q.L3;
var H=z.displayDomain?{G:"div",J:"iv-card-image-text",BI:z.displayDomain}:void 0;var f=$Ou(z);H={G:"div",lT:["iv-card"],W:[{G:"a",J:"iv-click-target",T:{href:z.url?Ke(z.url)||"":""},W:[mA(z.imageUrl,H),{G:"div",J:"iv-card-content",W:[dL("h2",void 0,z.title),f]}]}]};H=new g.m(H);wL(Q,g.da("iv-click-target",H.element),z,z.url);z=H;break;case "collaborator":Q=Q.L3;H={G:"div",lT:["iv-card","iv-card-channel"],W:[{G:"a",lT:["iv-click-target"],T:{href:Ke(z.url)||"","data-ytid":z.channelId},W:[mA(z.profileImageUrl),
{G:"div",J:"iv-card-content",W:[Z$t(z),{G:"h2",J:"iv-card-primary-link",BI:z.title},GUL(z)]}]}]};H=new g.m(H);wL(Q,g.da("iv-click-target",H.element),z,z.url);z=H;break;case "playlist":Q=Q.L3;H={G:"div",lT:["iv-card","iv-card-playlist"],W:[{G:"a",J:"iv-click-target",T:{href:Ke(z.url)||""},W:[mA(z.hg,{G:"div",J:"iv-card-image-overlay",W:[{G:"span",J:"iv-card-playlist-video-count",BI:z.playlistVideoCount}]}),{G:"div",J:"iv-card-content",W:[Z$t(z),dL("h2","iv-card-primary-link",z.title),GUL(z)]}]}]};
H=new g.m(H);wL(Q,g.da("iv-click-target",H.element),z,z.url);z=H;break;case "productListing":Q=Q.L3;var b=z.offers.length!=0;H=["iv-card"];f="";var L=$Ou(z);b&&(H.push("iv-card-product-listing"),f="iv-card-primary-link",L=z.offers[0],b=[],L.price&&b.push({G:"div",J:"iv-card-offer-price",BI:L.price}),L.merchant&&b.push({G:"div",J:"iv-card-offer-merchant",BI:L.merchant}),L={G:"div",W:b});b=z.url?Ke(z.url)||"":"";H={G:"div",lT:H,T:{tabindex:"0"},W:[{G:"a",lT:["iv-card-image","iv-click-target"],T:{style:"background-image: url("+
z.imageUrl+");",href:b,"aria-hidden":"true",tabindex:"-1"}},{G:"div",J:"iv-card-content",W:[z.sponsored?{G:"div",J:"iv-card-sponsored",W:["Sponsored",{G:"div",J:"iv-ad-info-container",W:[{G:"div",J:"iv-ad-info",BI:"{{adInfo}}"},{G:"div",J:"iv-ad-info-icon-container",W:[{G:"div",J:"iv-ad-info-icon"},{G:"div",J:"iv-ad-info-callout"}]}]}]}:"",{G:"a",J:"iv-click-target",T:{href:b},W:[dL("h2",f,z.title),L]}]}]};H=new g.m(H);f=g.Hx("span");g.vx(f,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
H.UV(f,"adInfo");wL(Q,g.da("iv-click-target",H.element),z,z.url);z=H;break;case "video":Q=Q.L3;f=z.videoDuration?{G:"span",J:"iv-card-video-duration",BI:z.videoDuration}:void 0;L=z.isLiveNow?{G:"span",lT:["yt-badge","yt-badge-live"],BI:"LIVE NOW"}:null;b={G:"div",lT:["iv-card","iv-card-video"],W:[{G:"a",J:"iv-click-target",T:{href:((H=z.url)==null?void 0:Ke(H))||""},W:[mA(z.hg,f),{G:"div",J:"iv-card-content",W:[Z$t(z),dL("h2","iv-card-primary-link",z.title),GUL(z),L]}]}]};H=new g.m(b);wL(Q,g.da("iv-click-target",
H.element),z,z.url);z=H;break;default:return null}return z},i$B=function(Q){if(Q.Z)return Q.Z.dV.type==="productListing";
if(Q.K.V("enable_wn_infocards")){var z;return!((z=Q.cards)==null||!z.length)&&g.NT(Q.cards,function(H){return H.dV.type==="productListing"})}return g.NT(Q.cards,function(H){return H.dV.type==="productListing"})},fV=function(Q){g.qP(Q.K.getRootNode(),"ytp-cards-shopping-active",i$B(Q))},cbu=function(Q,z){if(!g.un(Q.K.getRootNode(),"ytp-cards-teaser-shown")){if(Q.Z!==z){var H=g.ox(),f=Q.Z?Q.Z.dV.Ry:Q.Ry;
H&&f&&g.bI(H,[f]);Q.Z=z;fV(Q)}(H=Q.isInitialized&&Q.ai().style.display=="none")||(H=Q.context.K.getPlayerState(),f=H===0&&Q.context.K.getCurrentTime()===0,H=!(H===1||H===3||f));H||z.dV.teaserDurationMs&&Q.K.xK(!0,{teaserText:z.dV.teaserText,durationMs:z.dV.teaserDurationMs,onClickCommand:z.dV.onClickCommand});Q.WI.isActive()||((!Q.L||!Q.De.isActive()&&Q.jm)&&UOt(Q,z),Q.WI.start(910+z.dV.teaserDurationMs))}},UOt=function(Q,z){Q.U.LH?(z=new YD([0,
Q.B.scrollTop],[0,z.eV.offsetTop],600,doY),Q.context.L.listen(z,"animate",function(H){Q.B.scrollTop=H.y}),Q.context.L.listen(z,"finish",function(H){Q.B.scrollTop=H.y}),z.play()):(Q.U.Ho(!0),Q.B.scrollTop=z.eV.offsetTop,Q.U.Ho(!1))},bO=function(Q){return Q.Z&&Q.Z.dV?Q.Z.dV:Q.cards[0]&&Q.cards[0].dV?Q.cards[0].dV:null},ITs=function(Q,z){return g.mB(Q.cards,function(H){return H.dV.id===z})},LV=function(Q,z,H){kD.call(this,Q,z);
this.annotation=H;this.isActive=!1},hOs=function(Q){var z=Q.annotation.data;
"start_ms"in z&&"end_ms"in z&&Q.addCueRange(Number(z.start_ms),Number(z.end_ms),Q.annotation.id,function(){Q.show()},function(){Q.hide()})},uO=function(Q,z,H){LV.call(this,Q,z,H);
this.B=null;this.Y=!1;this.L=null;this.D=!1;this.Z=this.j=this.S=null},WTx=function(Q,z){var H=H===void 0?0:H;
var f=au5(z).width;g.gW(z,f);H=new K6x(z,[f,z.offsetTop],[f-f-H,z.offsetTop],200,V4s);g.W(Q,H);Q.context.L.listen(H,"begin",function(){g.xe(z,!0)});
H.play()},VeT=function(Q,z){if(z.channel_name){var H=Q.createElement({G:"div",
lT:["iv-branding-context-name"],BI:z.channel_name}),f=Q.createElement({G:"div",lT:["iv-branding-context-subscribe"]}),b=z.standalone_subscribe_button_data;b&&(Q.Z=new g.QI(b.subscribeText,b.subscribeCount,b.unsubscribeText,b.unsubscribeCount,!!b.enabled,!!b.classic,z.channel_id,!!b.subscribed,b.feature,z.session_data.itct,Q.context.K,!1),Q.Z.Gv(f));var L=Q.createElement({G:"div",lT:["iv-branding-context-subscribe-caret"]}),u=Q.createElement({G:"div",lT:["branding-context-container-inner"]});u.appendChild(L);
u.appendChild(H);u.appendChild(f);g.xe(u,!1);var X=Q.createElement({G:"div",lT:["branding-context-container-outer"]});X.appendChild(u);g.q2(X,"right",z.image_width+"px");g.bT(Q.ai(),X);Q.L=new g.e_(function(){DOs(Q,u,X)},500);
g.W(Q,Q.L);Q.context.Z.listen(Q.ai(),"mouseover",function(){KTs(Q,u,X,L,z.image_height)});
Q.context.Z.listen(Q.ai(),"mouseout",function(){Q.L.start()})}},KTs=function(Q,z,H,f,b){Q.L.stop();
if(!Q.D){var L=g.FL(z);Q.Z||(z.style.width=g.nh(L.width,!0),H.style.width=g.nh(L.width,!0));g.q2(f,"top",L.height-Math.max(Math.min(L.height,b)/2+10,20)+"px");g.q2(f,"right","1px");Q.D=!0;g.xe(z,!0);Q.S=new g.e_(function(){g.SK(this.ai(),"iv-branding-active")},0,Q);
Q.S.start()}},DOs=function(Q,z,H){g.vO(Q.ai(),"iv-branding-active");
Q.j=new g.e_(function(){g.xe(z,!1);Q.Z||(H.style.width=g.nh(0,!0))},250);
Q.j.start();Q.D=!1},dOs=function(Q,z,H,f,b,L,u){this.Z=Q;
this.L=z;this.rh=H;this.videoData=f;this.logger=b;this.K=L;this.B=u},mOs=function(Q,z,H){LV.call(this,Q,z,H);
var f=this;this.N=this.isCollapsed=this.U=!1;this.j=5E3;this.B=this.L=this.Z=this.D=null;this.Y=this.createElement({G:"div",lT:["iv-promo-contents"]});this.S=new g.e_(function(){f.Z.setAttribute("aria-hidden","true");g.xe(f.L,!1);g.xe(f.B,!0)},700,this);
g.W(this,this.S)},kUt=function(Q){var z=Q.annotation.data;
if(Q.annotation.style==="cta")var H=6;else if(Q.annotation.style==="video"||Q.annotation.style==="playlist")H=7;Q.j=z.collapsedelay_ms||Q.j;var f=["iv-promo","iv-promo-inactive"];Q.ai().setAttribute("aria-hidden","true");Q.ai().setAttribute("aria-label","Promotion");Q.ai().tabIndex=0;var b=Q.annotation.mM(),L=z.image_url;if(L){var u=Q.createElement({G:"div",lT:["iv-promo-img","iv-click-target"]});L=Q.createElement({G:"img",T:{src:L,"aria-hidden":"true"}});u.appendChild(L);z.video_duration&&!z.is_live?
(L=Q.createElement({G:"span",J:"iv-promo-video-duration",BI:z.video_duration}),u.appendChild(L)):z.playlist_length&&(L=Q.createElement({G:"span",J:"iv-promo-playlist-length",BI:z.playlist_length.toString()}),u.appendChild(L));b&&TW(Q,u,b,Q.annotation.id,z.session_data,void 0,H)}b?(L=Q.createElement({G:"a",J:"iv-promo-txt"}),g.sK(L,Ke(b)),Q.Z=L):Q.Z=Q.createElement({G:"div",J:"iv-promo-txt"});switch(Q.annotation.style){case "cta":case "website":var X=Q.createElement({G:"p",W:[{G:"strong",BI:z.text_line_1}]});
var v=Q.createElement({G:"p",W:[{G:"span",J:"iv-promo-link",BI:z.text_line_2}]});if(L=z.text_line_3){f.push("iv-promo-website-card-cta-redesign");var y=Q.createElement({G:"button",lT:["iv-promo-round-expand-icon","ytp-button"]});L=Q.createElement({G:"button",lT:["iv-button","iv-promo-button"],W:[{G:"span",J:"iv-button-content",BI:L}]});var q=Q.createElement({G:"div",J:"iv-promo-button-container"});q.appendChild(L);b&&TW(Q,Q.ai(),b,Q.annotation.id,z.session_data,void 0,H)}g.SK(Q.Z,"iv-click-target");
b&&TW(Q,Q.Z,b,Q.annotation.id,z.session_data,void 0,H);break;case "playlist":case "video":X=Q.createElement({G:"p",W:[{G:"span",BI:z.text_line_1}]}),v=Q.createElement({G:"p",W:[{G:"strong",BI:z.text_line_2}]}),z.is_live&&(X=v,v=Q.createElement({G:"span",lT:["yt-badge","iv-promo-badge-live"],BI:"LIVE NOW"})),g.SK(Q.Z,"iv-click-target"),b&&TW(Q,Q.Z,b,Q.annotation.id,z.session_data,void 0,H),f.push("iv-promo-video")}X&&Q.Z.appendChild(X);v&&Q.Z.appendChild(v);Q.Y.appendChild(Q.Z);q&&Q.Y.appendChild(q);
H=Q.createElement({G:"div",J:"iv-promo-actions"});Q.B=Q.createElement({G:"button",lT:["iv-promo-expand","ytp-button"]});Q.B.title="Expand";Q.context.Z.listen(Q.B,"click",function(M){wJR(Q,5E3,M)});
H.appendChild(Q.B);g.xe(Q.B,!1);Q.context.Z.listen(Q.ai(),"mouseover",Q.Vm3,Q);Q.context.Z.listen(Q.ai(),"mouseout",Q.Ahl,Q);Q.context.Z.listen(Q.ai(),"touchend",function(M){wJR(Q,5E3,M)});
Q.L=Q.createElement({G:"button",lT:["iv-promo-close","ytp-button"]});Q.L.title="Close";Q.context.Z.listen(Q.L,"click",Q.annotation.style==="cta"&&z.text_line_3?Q.jjT:Q.Kqh,Q);H.appendChild(Q.L);g.X9(Q.ai(),f);u&&(g.bT(Q.ai(),u),y&&u.appendChild(y));g.bT(Q.ai(),Q.Y);g.bT(Q.ai(),H)},wJR=function(Q,z,H){H.stopPropagation();
T$Y(Q);eOJ(Q,z);Q.Z.focus()},lTs=function(Q){Q.isCollapsed||Q.N||Q.D||(g.SK(Q.ai(),"iv-promo-collapsed"),Q.isCollapsed=!0,Q.S.start())},T$Y=function(Q){Q.S.stop();
Q.isCollapsed&&(g.yM(Q.ai(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),Q.isCollapsed=!1,Q.Z&&Q.Z.removeAttribute("aria-hidden"),g.xe(Q.B,!1),g.xe(Q.L,!0))},eOJ=function(Q,z){Q.D||(Q.D=g.OE(function(){ROL(this);
lTs(this)},z,Q))},ROL=function(Q){Q.D&&(g.iL.clearTimeout(Q.D),Q.D=null)},QIB=function(Q){this.K=Q},YKs=function(Q,z,H){z&&(H?Su(Q,z.map(function(f){return g.YW(f,H)})):Su(Q,z))},Su=function(Q,z,H,f){var b=1,L=void 0,u=-1;
if(H){var X=!1;L=function(){b--;b||X||(clearTimeout(u),X=!0,H())};
u=setTimeout(function(){X=!0;H()},1E3)}z=g.n(z||[]);
for(var v=z.next();!v.done;v=z.next())v=v.value,b++,g.WU(v,L);f&&(b++,f!==0&&Q.K.sendVideoStatsEngageEvent(f,L))},zft=function(Q){g.g3.call(this,Q);
var z=this;this.Ze=this.N=!1;this.loadNumber=0;this.j={};this.logger=new QIB(this.player);this.D=new g.Bt(this);this.S=this.Y=null;this.events=new g.Bt(this);this.aJ=this.U=this.Z=null;this.wh=[];g.W(this,this.D);this.D.X(this.player,"onVideoAreaChange",function(){z.publish("onVideoAreaChange")});
this.D.X(this.player,"onHideControls",function(){z.publish("onHideControls")});
this.D.X(this.player,"onShowControls",function(){z.publish("onShowControls")});
this.D.X(this.player,"resize",function(f){z.publish("resize",f)});
this.D.X(this.player,"presentingplayerstatechange",function(f){z.publish("presentingplayerstatechange",f)});
this.subscribe("presentingplayerstatechange",this.rj,this);this.subscribe("resize",this.a9,this);this.player.C().f3.subscribe("vast_info_card_add",this.z_,this);g.W(this,this.events);this.L3=this.createElement({G:"div",J:"video-custom-annotations"});this.B=new g.m({G:"div",lT:["ytp-player-content","ytp-iv-player-content"]});g.W(this,this.B);g.sZ(this.player,this.B.element,4);this.B.hide();this.L=new g.m({G:"div",lT:["ytp-iv-video-content"]});g.W(this,this.L);Q=this.createElement({G:"div",J:"video-annotations"});
Q.appendChild(this.L3);this.L.element.appendChild(Q);this.k7()&&this.load();var H=this.createElement({G:"style"});(g.V4("HEAD")[0]||document.body).appendChild(H);this.addOnDisposeCallback(function(){g.Sz(H)});
if(Q=H.sheet)Q.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),Q.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),Q.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),Q.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),Q.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),Q.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),Q.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),Q.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),Q.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),Q.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},HCO=function(Q){Q=Q.createElement({G:"div",
lT:["annotation","annotation-type-custom"]});g.xe(Q,!1);return Q},fzu=function(Q,z){z=!z.isCued()&&!g.w(z,1024);
Q.B.Ho(z);Q.L.Ho(z)},bCs=function(Q,z,H){Q.N=!0;
Q.S=g.JF(z,H)},LSL=function(Q,z){for(var H={},f=g.n(z.attributes),b=f.next();!b.done;b=f.next())b=b.value,H[b.name]=b.nodeValue;
for(f=0;f<z.childNodes.length;f++)if(b=z.childNodes[f],g.wc(b)&&b.nodeType==1){if(H[b.tagName])var L=H[b.tagName];else if(b.tagName==="data"){b.childNodes.length>0&&(L=b.childNodes[0].nodeValue,H[b.tagName]=typeof L==="string"?L.trim():L);continue}else L=[],H[b.tagName]=L;b&&b.tagName==="TEXT"?b.childNodes.length===1&&b.childNodes[0].nodeType===3?L.push(b.childNodes[0].nodeValue):L.push(""):b&&L.push(LSL(Q,b))}return H},vss=function(Q){var z=Q.player.getVideoData();
if(z.uT){var H=Q.player.C().f3.get(z.videoId);if(H){var f={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(b,L,u){b=Q.loadNumber;L=z.videoId;Q.loaded&&Q.loadNumber===b&&Q.player.getVideoData().videoId===L&&(u=g.p1(u)&&u.responseXML?u.responseXML:null)&&uVJ(Q,u)}};
g.HH()&&(f.onFinish=SrB(Q,f.onFinish));f.postParams={ic_only:"1"};X3B(f,H);Q.N=!0;g.JF(z.uT,f)}}},X3B=function(Q,z){Q.method="POST";
Q.postParams=Q.postParams||{};z.BV&&(Q.postParams.ic_coll=z.BV);z.Hf&&(Q.postParams.ic_xml=z.Hf);z.g2&&(Q.postParams.ic_track=z.g2)},y6u=function(Q){var z=new g.m({G:"div"});
g.xe(z.element,!1);var H=new ogO(Q.player,z.element,X2(Q));g.W(H,z);z.Gv(Q.B.element);H.lx();return H},MaT=function(Q,z){var H,f;
if(z=(H=z.getWatchNextResponse())==null?void 0:(f=H.cards)==null?void 0:f.cardCollectionRenderer)Q.Ze=!0,qrT(Q,z),z.headerText&&Q.aJ&&(H=g.pa(z.headerText),Q.aJ.setAttribute("title",H))},X2=function(Q){if(!Q.U){var z=new mou(Q);
g.W(Q,z);var H=new g.Oa(Q);g.W(Q,H);Q.U=new dOs(z,H,Q.player.C(),Q.player.getVideoData(),Q.logger,Q.player,Q.Ef)}return Q.U},uVJ=function(Q,z){var H=!1,f=z.getElementsByTagName("annotations");
if(f&&!(f.length<1)&&(f=f[0].getAttribute("itct"))){var b=g.ox();if(b){var L=g.OX();L&&g.QC(g.mQ)(void 0,b,L,[g.FG(f)])}}z=z.getElementsByTagName("annotation");for(f=0;f<z.length;f++){L=LSL(Q,z[f]);b=null;try{if(L){var u=L.id,X=/.+/;var v=typeof u==="string"&&X!=null&&u!=null&&u.match(X)?u:"";var y=Df(L.type,CQu),q=Df(L.style,tau),M=vgT(L.data),C=M.length!==0?JSON.parse(M):{};var t=L.action;L=EgY;if(t==null)var E=null;else if(g.mZ(t)){X=[];for(var G=g.n(t),x=G.next();!x.done;x=G.next()){var J=L(x.value);
J&&X.push(J)}E=X}else{var I=L(t);E=I?[I]:[]}b=v&&y?new pJY(v,y,q,E,C):null}else b=null}catch(bL){}if(b)if(b.type==="branding"||b.type==="promotion"){L=Q;X=b;var r=HCO(L),U=null;switch(X.type){case "branding":if(L.player.C().d4)break;L.B.element.appendChild(r);U=new uO(r,X2(L),X);break;case "promotion":g.sZ(L.player,r,4),U=new mOs(r,X2(L),X)}U&&U.lx();if(L=U)g.W(Q,L),Q.j[b.id]=L}else if(b.type==="card"||b.type==="drawer"){Q.Z||(Q.Z=y6u(Q),g.W(Q,Q.Z));if(b.type==="card"){r=Q.Z;var D=(H=b)&&H.data&&
H.data.card_type;b=H.data;if(D)switch(L=b.tracking||{},L={po:L.impression,click:L.click,close:L.close,Og:L.teaser_impression,N9:L.teaser_click},X=b.tracking_params||{},U=null,D){case "collaborator":H={id:H.id,timestamp:b.timestamp||0,type:b.card_type,teaserText:b.teaser_text,teaserDurationMs:b.teaser_duration_ms,startMs:b.start_ms,autoOpen:b.auto_open||!1,sessionData:b.session_data||{},sponsored:b.sponsored||!1,oN:L,T7:X.card?g.FG(X.card):null,uc:X.teaser?g.FG(X.teaser):null,Ry:X.icon?g.FG(X.icon):
null,channelId:b.channel_id,customMessage:b.custom_message?b.custom_message:null,profileImageUrl:b.image_url,title:b.title,metaInfo:b.meta_info,url:Vm({pause_on_navigation:b.pause_on_navigation,target:b.target||"new",value:b.url}),onClickCommand:null};QD(r,H);break;case "playlist":H={id:H.id,timestamp:b.timestamp||0,type:b.card_type,teaserText:b.teaser_text,teaserDurationMs:b.teaser_duration_ms,startMs:b.start_ms,autoOpen:b.auto_open||!1,sessionData:b.session_data||{},sponsored:b.sponsored||!1,oN:L,
T7:X.card?g.FG(X.card):null,uc:X.teaser?g.FG(X.teaser):null,Ry:X.icon?g.FG(X.icon):null,hg:b.image_url,playlistVideoCount:b.playlist_video_count,customMessage:b.custom_message?b.custom_message:null,title:b.title,metaInfo:b.meta_info,url:Vm({pause_on_navigation:b.pause_on_navigation,target:b.target||"new",value:b.url}),onClickCommand:null};QD(r,H);break;case "productListing":b.signin_url&&(U=Vm({target:"current",value:b.signin_url}));D=[];for(var T=b.offers||[],k=0;k<T.length;k++)D.push(new j$R(g.R$(T[k].merchant),
g.R$(T[k].price)));H={id:H.id,timestamp:b.timestamp||0,type:b.card_type,teaserText:b.teaser_text,teaserDurationMs:b.teaser_duration_ms,startMs:b.start_ms,autoOpen:b.auto_open||!1,sessionData:b.session_data||{},sponsored:b.sponsored||!1,oN:L,T7:X.card?g.FG(X.card):null,uc:X.teaser?g.FG(X.teaser):null,Ry:X.icon?g.FG(X.icon):null,imageUrl:b.image_url,displayDomain:b.display_domain?b.display_domain:null,showLinkIcon:!!b.show_link_icon,cX:b.button_icon_url?b.button_icon_url:null,title:b.title,customMessage:b.custom_message?
b.custom_message:null,url:Vm({pause_on_navigation:b.pause_on_navigation,target:b.target||"new",value:b.url}),Fbv:U,N5j:b.signin_title?b.signin_title:void 0,Iiv:b.signin_message?b.signin_message:void 0,offers:D,onClickCommand:null};QD(r,H);break;case "simple":H={id:H.id,timestamp:b.timestamp||0,type:b.card_type,teaserText:b.teaser_text,teaserDurationMs:b.teaser_duration_ms,startMs:b.start_ms,autoOpen:b.auto_open||!1,sessionData:b.session_data||{},sponsored:b.sponsored||!1,oN:L,T7:X.card?g.FG(X.card):
null,uc:X.teaser?g.FG(X.teaser):null,Ry:X.icon?g.FG(X.icon):null,imageUrl:b.image_url,displayDomain:b.display_domain?b.display_domain:null,showLinkIcon:!!b.show_link_icon,cX:b.button_icon_url?b.button_icon_url:null,title:b.title,customMessage:b.custom_message?b.custom_message:null,url:Vm({pause_on_navigation:b.pause_on_navigation,target:b.target||"new",value:b.url}),onClickCommand:null};QD(r,H);break;case "video":H={id:H.id,timestamp:b.timestamp||0,type:b.card_type,teaserText:b.teaser_text,teaserDurationMs:b.teaser_duration_ms,
startMs:b.start_ms,autoOpen:b.auto_open||!1,sessionData:b.session_data||{},sponsored:b.sponsored||!1,oN:L,T7:X.card?g.FG(X.card):null,uc:X.teaser?g.FG(X.teaser):null,Ry:X.icon?g.FG(X.icon):null,hg:b.image_url,videoDuration:b.video_duration||null,customMessage:b.custom_message?b.custom_message:null,title:b.title,metaInfo:b.meta_info,isLiveNow:!!b.is_live_now,url:Vm({pause_on_navigation:b.pause_on_navigation,target:b.target||"new",value:b.url}),onClickCommand:null},QD(r,H)}}else JbR(Q.Z,b);H=!0}}H&&
(oF(Q.player),Q.a9())},qrT=function(Q,z){var H=!1;
Q.Z||(Q.Z=y6u(Q),g.W(Q,Q.Z));for(var f=g.n(z.cards||[]),b=f.next();!b.done;b=f.next())b=b.value,b.cardRenderer&&(N$T(Q.Z,b.cardRenderer),H=!0);if(H){var L;(L=Q.player.getVideoData())!=null&&g.ri(L)||(H=Q.Z,f=z.headerText?g.pa(z.headerText):"",g.vx(H.ZJ,f),H.N&&H.N.setAttribute("title",f),H.context.videoData.eventId&&(H.eventId=H.context.videoData.eventId),H.yl=z.trackingParams?g.FG(z.trackingParams):null,H.Y=z.closeButton.infoCardIconRenderer.trackingParams?g.FG(z.closeButton.infoCardIconRenderer.trackingParams):
null,H.Ry=z.icon.infoCardIconRenderer.trackingParams?g.FG(z.icon.infoCardIconRenderer.trackingParams):null,Q.a9());oF(Q.player)}},Esu=function(Q,z,H,f,b){if(!Q.player.C().d4){var L=[];
z.navigationEndpoint&&g.K(z.navigationEndpoint,g.OC)&&g.K(z.navigationEndpoint,g.OC).browseId&&L.push(new Me5("openUrl","click",new ybT("/channel/"+g.K(z.navigationEndpoint,g.OC).browseId,"new",!0,!0)));var u=z.watermark.thumbnails[0];f={channel_name:z.channelName,end_ms:z.endTimeMs,image_height:u.height,image_type:1,image_url:u.url,image_width:u.width,is_mobile:!1,session_data:{annotation_id:H,ei:b,feature:"iv",itct:z.trackingParams,src_vid:f},start_ms:z.startTimeMs};if(z.subscribeButton&&g.K(z.subscribeButton,
g.oq)){f.channel_id=g.K(z.subscribeButton,g.oq).channelId;var X;z=g.K(z.subscribeButton,g.oq);u=b=null;z.subscribed?(z.subscriberCountWithUnsubscribeText&&(b=g.pa(z.subscriberCountWithUnsubscribeText)),z.subscriberCountText&&(u=g.pa(z.subscriberCountText))):(z.subscriberCountText&&(b=g.pa(z.subscriberCountText)),z.subscriberCountWithSubscribeText&&(u=g.pa(z.subscriberCountWithSubscribeText)));var v,y=((v=g.K((X=z.signInEndpoint)==null?void 0:X.commandMetadata,g.ZX))==null?void 0:v.url)||"";X={subscribeText:g.pa(z.unsubscribedButtonText),
subscribeCount:b||"",unsubscribeText:g.pa(z.subscribedButtonText),unsubscribeCount:u||"",enabled:z.enabled||!1,classic:!1,subscribed:z.subscribed||!1,feature:"iv",signInUrl:y};f.standalone_subscribe_button_data=X}L=new pJY(H,"branding","branding",L,f);X=HCO(Q);Q.B.element.appendChild(X);L=new uO(X,X2(Q),L);L.lx();g.W(L,L);Q.j[H]=L}},SrB=function(Q,z){return function(){var H=g.A8.apply(0,arguments);
Q.Sm()||Q.wh.push(g.Wz.pE(function(){z.apply(null,g.F(H))}))}},p3m=function(Q){return Q==="annotation-editor"||Q==="live-dashboard"};
g.OZ.prototype.xK=g.fn(45,function(Q,z){var H=g.r3(this.xt());H&&H.xK(Q,z)});
var NL={},IF=null;g.zY(YD,g.MP);g.S=YD.prototype;g.S.getDuration=function(){return this.duration};
g.S.play=function(Q){if(Q||this.Z==0)this.progress=0,this.coords=this.B;else if(this.isPlaying())return!1;AH(this);this.startTime=Q=g.Qs();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.D=this.startTime;this.progress||this.rK();this.Yc("play");this.isPaused()&&this.Yc("resume");this.Z=1;var z=g.Tu(this);z in NL||(NL[z]=this);iwB();hoY(this,Q);return!0};
g.S.stop=function(Q){AH(this);this.Z=0;Q&&(this.progress=1);W6s(this,this.progress);this.onStop();this.f9()};
g.S.pause=function(){this.isPlaying()&&(AH(this),this.Z=-1,this.Yc("pause"))};
g.S.zv=function(){this.Z==0||this.stop(!1);this.Yc("destroy");YD.xu.zv.call(this)};
g.S.destroy=function(){this.dispose()};
g.S.nC=function(){this.Yc("animate")};
g.S.Yc=function(Q){this.dispatchEvent(new DoO(Q,this))};
g.zY(DoO,g.Px);g.zY(rL,YD);rL.prototype.L=function(){};
rL.prototype.nC=function(){this.L();rL.xu.nC.call(this)};
rL.prototype.f9=function(){this.L();rL.xu.f9.call(this)};
rL.prototype.rK=function(){this.L();rL.xu.rK.call(this)};
g.zY(K6x,rL);K6x.prototype.L=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.p(mou,g.h);g.S=mou.prototype;g.S.listen=function(Q,z,H,f){H=(0,g.lL)(H,f||this.B);Q=g.FX(Q,z,H);this.Z.push(Q);return Q};
g.S.iJ=function(Q,z,H,f){H=(0,g.lL)(H,f||this.B);Q=Uos(Q,z,H);this.Z.push(Q);return Q};
g.S.DS=function(Q){g.xQ(Q);g.e5(this.Z,Q)};
g.S.removeAll=function(){g.xQ(this.Z);this.Z.length=0};
g.S.zv=function(){this.removeAll();g.h.prototype.zv.call(this)};g.p(Tqu,g.g3);g.S=Tqu.prototype;g.S.load=function(){g.g3.prototype.load.call(this);if(!aF(this)){var Q=g.qDZ(this.player.getVideoData());Q?(Q=kHJ(Q,eoL(this)),Uw(this,Q,!1)):luL(this)}};
g.S.unload=function(){Uw(this,null);this.D&&(this.D.abort(),this.D=null);g.g3.prototype.unload.call(this)};
g.S.TZ=function(Q,z){return aF(this)?Q==="loadCustomEndscreenRenderer"?(Q=kHJ(z,"new"),Uw(this,Q),!0):null:null};
g.S.getOptions=function(){return aF(this)?["loadCustomEndscreenRenderer"]:[]};
g.S.tZ=function(){if(this.endscreen&&this.endscreen.elements){var Q=this.player.getVideoContentRect();if(Q&&Q.width!==0&&Q.height!==0){var z=this.player.getPlayerSize();if(z&&z.width!==0&&z.height!==0){var H=Q.width/Q.height;var f=0;for(var b=-1,L=0;L<nsY.length;L++){var u=Math.abs(z.width-nsY[L]);if(b===-1||f>=u)b=L,f=u}f=gsB[b];this.L&&g.q2(this.L.element,"outline-width",Math.max(z.width,z.height)+"px");for(z=0;z<this.endscreen.elements.length;++z)if(L=this.endscreen.elements[z].id,b=this.B[L],
u=this.j[L],b&&u){var X=u.width*H/u.aspectRatio,v=Math.round(u.width*Q.width);L=Math.round(X*Q.height);var y=Q.left+Math.round(u.left*Q.width),q=Q.top+Math.round(u.top*Q.height);g.j$(b.element,v,L);g.gW(b.element,y,q);g.yM(b.element,ZCT);v>256||L>256?g.SK(b.element,"ytp-ce-large-round"):v>96||L>96?g.SK(b.element,"ytp-ce-medium-round"):g.SK(b.element,"ytp-ce-small-round");g.yM(b.element,G2L);v=u.left+u.width/2;u=u.top+X/2;g.SK(b.element,v<=.5&&u<=.5?"ytp-ce-top-left-quad":v>.5&&u<=.5?"ytp-ce-top-right-quad":
v<=.5&&u>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.yM(b.element,gsB);g.SK(b.element,f);(b=g.mS(document,"div","ytp-ce-expanding-overlay-body",b.element)[0])&&g.q2(b,"height",L+"px")}}}}};
g.S.onCueRangeEnter=function(Q){if(this.endscreen)if(Q.getId()==="ytp-ce-in-endscreen")Wh(this,this.endscreen.impressionUrls),(Q=g.ox())&&this.endscreen.visualElement&&g.Hf(Q,this.endscreen.visualElement),this.Z&&(g.SK(this.Z,"ytp-ce-element-show"),this.Z.removeAttribute("aria-hidden"),this.player.ZC()?g.SK(this.Z,"ytp-ce-hide-button-lower"):g.vO(this.Z,"ytp-ce-hide-button-lower"));else{Q=Q.getId().substring(15);var z=this.B[Q],H=this.j[Q];g.SK(z.element,"ytp-ce-element-show");z.element.removeAttribute("aria-hidden");
z=this.player.getRootNode();g.SK(z,"ytp-ce-shown");Wh(this,H.impressionUrls);(z=g.ox())&&g.Hf(z,H.visualElement);this.player.C().Y&&this.player.F$("endscreenelementshown",Q)}};
g.S.onCueRangeExit=function(Q){if(Q.getId()==="ytp-ce-in-endscreen")this.Z&&(g.vO(this.Z,"ytp-ce-element-show"),this.Z.setAttribute("aria-hidden","true"));else{Q=Q.getId().substring(15);var z=this.B[Q];g.vO(z.element,"ytp-ce-element-show");z.element.setAttribute("aria-hidden","true");z=this.player.getRootNode();g.vO(z,"ytp-ce-shown");this.player.C().Y&&this.player.F$("endscreenelementhidden",Q)}};
g.S.iiT=function(Q){var z=this;Q.target===window&&(new g.e_(function(){for(var H=g.n(Object.values(z.B)),f=H.next();!f.done;f=H.next())g.yM(f.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.S.Ho=function(Q){for(var z=g.n(Object.values(this.B)),H=z.next();!H.done;H=z.next())H=H.value,Q?H.element.setAttribute("hidden",""):H.element.removeAttribute("hidden")};
g.S.OAl=function(Q){this.Z&&this.player.getRootNode().removeChild(this.Z);Q&&(g.SK(Q,"ytp-ce-hide-button-container"),this.Z=Q,g.sZ(this.player,this.Z,4))};
var nsY=[346,426,470,506,570,640,853,1280,1920],gsB="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),G2L=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],ZCT=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var qKT={P7n:"current",XGm:"new"};var Czu={CLOSE:"close",IA$:"openUrl",SUBSCRIBE:"subscribe"},teu={d7T:"click",CLOSE:"close",xDI:"hidden",Ypn:"rollOut",smT:"rollOver",uDT:"shown"};pJY.prototype.mM=function(){var Q=ngx(this,function(z){return z.type==="openUrl"&&z.url!=null});
return Q?Q.url:null};
var tau={r5T:"anchored",fM:"branding",CHANNEL:"channel",w7h:"cta",qGm:"highlightText",UDv:"label",PLAYLIST:"playlist",POPUP:"popup",U0I:"speech",SUBSCRIBE:"subscribe",zbh:"title",VIDEO:"video",I4q:"website"},CQu={fM:"branding",c5I:"card",Gl3:"drawer",Bzh:"highlight",M0e:"marker",aKm:"promotion",TEXT:"text",jDv:"widget"};g.p(kD,g.h);g.S=kD.prototype;g.S.addCueRange=function(Q,z,H,f,b){Q=new g.HD(Q,z,{id:H,namespace:"annotations_module"});f&&this.iT.set(Q,f);b&&this.uT.set(Q,b);this.context.K.UZ([Q],1)};
g.S.lx=function(){this.context.B.subscribe("resize",this.Zq,this)};
g.S.ai=function(){return this.element};
g.S.YB=function(Q,z,H,f,b,L){if(this.rT)return!1;L&&(L.stopPropagation(),L.preventDefault());this.navigate(Q,H,f,b);return!1};
g.S.show=function(){};
g.S.hide=function(){};
g.S.destroy=function(){g.Sz(this.ai())};
g.S.Zq=function(){};
g.S.navigate=function(Q,z,H,f){var b=this,L=Ke(Q);if(L){var u=xOt(L,Q.target),X=function(){Q.Z&&b.context.K.pauseVideo();var v=b.context.videoData.gV||!1,y=g.uv(L||"");v&&y&&(y.v||y.list)?b.context.K.cN(y.v,z,y.list,!1):g.Kp(L||"",u==="current"?"_top":void 0,z)};
u==="new"&&(X(),X=null);Su(this.context.logger,H,X,f);FTs(L)||(H=g.ox(),f=z.itct,H&&f&&g.La(H,g.FG(f)))}};
g.S.zv=function(){this.iT.clear();this.uT.clear();g.h.prototype.zv.call(this)};
g.S.createElement=function(Q){Q=new g.m(Q);g.W(this,Q);return Q.element};g.p(ogO,kD);g.S=ogO.prototype;g.S.nt=function(){this.wh&&QD(this,this.wh)};
g.S.isAvailable=function(){var Q;if(Q=!!this.cards.length)(Q=this.K.getRootNode())?(Q=g.FL(Q),Q=173<Q.width&&173<Q.height):Q=!1;return Q};
g.S.Zq=function(){var Q=this.isAvailable();g.xe(this.ai(),Q);g.qP(this.context.K.getRootNode(),g.WB.IV_DRAWER_ENABLED,Q);oF(this.K)};
g.S.destroy=function(){this.K.xK(!1);try{this.K.getRootNode().removeChild(this.D)}catch(Q){}g.Sv(this.Ze);g.Aq(this.mq);this.En&&this.En.dispose();this.S&&this.S.dispose();kD.prototype.destroy.call(this)};
g.S.uK=function(){var Q=this;this.context.Z.listen(g.T2("iv-drawer-close-button",this.D),"click",this.Dn,this);this.context.Z.listen(this.B,"touchend",function(){Q.De.start()});
this.context.Z.listen(this.B,"scroll",this.Fj,this);this.context.B.subscribe("onHideControls",function(){Q.jm=!0});
this.context.B.subscribe("onShowControls",function(){Q.jm=!1});
this.context.B.subscribe("onVideoAreaChange",function(){Q.jm=g.un(Q.K.getRootNode(),"ytp-autohide")});
this.Ze.push(g.u8("iv-button-shown",this.ntv,this));this.Ze.push(g.u8("iv-button-hidden",this.mzv,this));s$O(this)};
g.S.findLastIndex=function(Q){if(this.cards.length===0)return 0;var z=g.wJ(this.cards,function(H){return Q.dV.startMs>H.dV.startMs||Q.dV.startMs===H.dV.startMs&&Q.dV.timestamp>=H.dV.timestamp?!0:!1});
return z===-1?0:z+1};
g.S.Dn=function(){if(this.L){Su(this.context.logger,bO(this).oN.close);var Q=g.ox();Q&&this.Y&&g.La(Q,this.Y);RF(this)}};
g.S.Fj=function(){g.qP(this.D,"iv-drawer-scrolled",this.B.scrollTop>0)};
g.S.ntv=function(){var Q=g.ox(),z=bO(this);z=z?z.Ry:this.Ry;Q&&z&&g.fa(Q,[z])};
g.S.mzv=function(){var Q=g.ox(),z=bO(this);z=z?z.Ry:this.Ry;Q&&z&&g.bI(Q,[z])};
g.S.g9=function(){var Q=bO(this);Su(this.context.logger,Q.oN.Og);var z=g.ox();if(z&&Q)if(this.K.V("web_infocards_teaser_show_logging_fix")){var H=[];Q.uc&&H.push(Q.uc);Q.Ry&&H.push(Q.Ry);H.length>0&&g.fa(z,H)}else g.fa(z,[Q.uc,Q.Ry])};
g.S.cZq=function(){var Q=g.ox(),z=bO(this);Q&&z&&g.bI(Q,[z.uc])};
g.S.UK=function(Q){var z=bO(this),H=g.ox();this.Z?Q?(Q=this.context.logger,Su(Q,z.oN.N9),Q.K.sendVideoStatsEngageEvent(4,void 0),H&&z.uc&&g.La(H,z.uc)):(Q=this.context.logger,Su(Q,z.oN.N9),Q.K.sendVideoStatsEngageEvent(4,void 0),H&&z.Ry&&g.La(H,z.Ry)):(Q=this.context.logger,Su(Q,z.oN.N9),Q.K.sendVideoStatsEngageEvent(4,void 0),H&&this.Ry&&g.La(H,this.Ry))};g.p(LV,kD);LV.prototype.lx=function(){kD.prototype.lx.call(this);hOs(this)};
LV.prototype.show=function(){kD.prototype.show.call(this);var Q=g.ox(),z=this.annotation.data;Q&&z&&(z=z.session_data)&&g.fa(Q,[g.FG(z.itct)])};
LV.prototype.hide=function(){kD.prototype.hide.call(this);var Q=g.ox(),z=this.annotation.data;Q&&z&&(z=z.session_data)&&g.bI(Q,[g.FG(z.itct)])};g.p(uO,LV);
uO.prototype.show=function(){if(!this.isActive){LV.prototype.show.call(this);if(!this.Y){g.SK(this.ai(),"iv-branding");var Q=this.annotation.data;this.B=this.createElement({G:"img",lT:["branding-img","iv-click-target"],T:{"aria-label":"Channel watermark",src:Q.image_url,width:Q.image_width,height:Q.image_height}});g.xe(this.B,!1);var z=this.createElement({G:"button",lT:["branding-img-container","ytp-button"]});z.appendChild(this.B);this.ai().appendChild(z);var H=this.annotation.mM();H&&TW(this,z,
H,this.annotation.id,Q.session_data);this.context.K.V("disable_branding_context")||VeT(this,Q);this.Y=!0}g.xe(this.ai(),!0);this.isActive=!0;if(this.B){try{WTx(this,this.B)}catch(f){}g.SK(this.context.K.getRootNode(),"ytp-branding-shown");this.context.K.getRootNode().style.setProperty("--branding-image-width",this.B.getAttribute("width")+"px")}}};
uO.prototype.hide=function(){this.isActive&&(LV.prototype.hide.call(this),g.xe(this.ai(),!1),this.isActive=!1,g.vO(this.context.K.getRootNode(),"ytp-branding-shown"))};
uO.prototype.destroy=function(){this.Z&&(this.Z.dispose(),this.Z=null);g.vO(this.context.K.getRootNode(),"ytp-branding-shown");LV.prototype.destroy.call(this)};g.p(mOs,LV);g.S=mOs.prototype;g.S.show=function(){this.isActive||(LV.prototype.show.call(this),this.U||(kUt(this),this.U=!0),g.xe(this.ai(),!0),g.OE(function(){g.vO(this.ai(),"iv-promo-inactive")},100,this),this.ai().removeAttribute("aria-hidden"),this.isActive=!0,ROL(this),T$Y(this),eOJ(this,this.j))};
g.S.hide=function(){this.isActive&&(g.SK(this.ai(),"iv-promo-inactive"),this.isActive=!1,this.ai().setAttribute("aria-hidden","true"))};
g.S.YB=function(Q,z,H,f,b,L){return this.isCollapsed?!1:LV.prototype.YB.call(this,Q,z,H,f,b,L)};
g.S.Vm3=function(Q){this.N=!0;wJR(this,500,Q)};
g.S.Ahl=function(){this.N=!1;lTs(this)};
g.S.Kqh=function(Q){Q.stopPropagation();this.hide()};
g.S.jjT=function(Q){Q.stopPropagation();ROL(this);this.isCollapsed=!0;g.SK(this.ai(),"iv-promo-collapsed-no-delay");this.S.start()};
g.S.destroy=function(){this.S.dispose();LV.prototype.destroy.call(this)};g.p(zft,g.g3);g.S=zft.prototype;g.S.TZ=function(Q,z){if(!p3m(this.player.C().playerStyle))return null;switch(Q){case "loadCustomAnnotationsXml":return(Q=g.wu(z))&&uVJ(this,Q),!0;case "removeCustomAnnotationById":return z&&this.Z&&(AbB(this.Z,z),oF(this.player)),!0}return null};
g.S.getOptions=function(){return p3m(this.player.C().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.S.k7=function(){var Q=this.player.C(),z=this.player.getVideoData(),H=Q.annotationsLoadPolicy||z.annotationsLoadPolicy;return g.zI(z)||this.player.isMutedByEmbedsMutedAutoplay()?!1:H===1&&!z.xm||Q.f3.get(z.videoId)||g.sC(z)||g.B7(z)?!0:!1};
g.S.a9=function(){if(this.L){var Q=this.player.Un().getVideoContentRect(!0);g.j$(this.L.element,Q.width,Q.height);g.gW(this.L.element,Q.left,Q.top)}if(this.Z){var z=this.player.A8();Q=this.Z;z=z.width;g.qP(Q.D,"iv-drawer-small",z<=426);g.qP(Q.D,"iv-drawer-big",z>=1280)}};
g.S.rj=function(Q){fzu(this,Q.state);g.w(Q.state,2)&&(this.ZC()&&this.t_()&&this.player.getPresentingPlayerType()!==2&&this.zy(!1),this.xK(!1))};
g.S.load=function(){function Q(u){var X=z.loadNumber;z.S=null;z.loaded&&z.loadNumber===X&&z.player.getVideoData().videoId===f&&(u=g.p1(u)&&u.responseXML?u.responseXML:null)&&(uVJ(z,u),g.SK(z.player.getRootNode(),"iv-module-loaded"))}
var z=this;g.g3.prototype.load.call(this);fzu(this,this.player.getPlayerStateObject());this.loadNumber++;var H=this.player.getVideoData(),f=H.videoId;g.HH()&&(Q=SrB(this,Q));var b={format:"XML",onFinish:Q,onError:function(){z.S=null},
urlParams:{}};H.isPharma&&(b.urlParams.pharma="1");b.method="POST";b.withCredentials=!0;var L=this.player.C().f3.get(f);L&&X3B(b,L);L=L&&(L.Hf||L.BV);if(!H.rp||L)H.uT?bCs(this,H.uT,b):(this.Y=function(){if(!z.N)z.onVideoDataChange(b);var u=z.player.getVideoData();(u==null?0:g.ri(u))&&!z.Ze&&MaT(z,u)},this.player.addEventListener("videodatachange",this.Y));
g.sZ(this.player,this.L.element,4);this.a9();(L=g.sC(H))&&qrT(this,L);(L=g.B7(H))&&L.featuredChannel&&Esu(this,L.featuredChannel,L.annotationId||"branding",H.videoId||null,H.eventId||null);this.aJ=g.T2("ytp-cards-button",this.player.getRootNode());g.ri(H)&&MaT(this,H)};
g.S.onVideoDataChange=function(Q){var z=this.player.getVideoData();z.uT&&bCs(this,z.uT,Q)};
g.S.unload=function(){this.player.Ys("annotations_module");for(var Q=g.n(Object.keys(this.j)),z=Q.next();!z.done;z=Q.next())this.j[z.value].destroy();this.U=null;this.Z&&(this.Z.destroy(),this.Z=null,oF(this.player));this.N=!1;this.S&&(this.S.abort(),this.S=null);this.Ze=!1;this.j={};this.B.hide();g.g3.prototype.unload.call(this);this.L.detach();this.Y&&(this.player.removeEventListener("videodatachange",this.Y),this.Y=null)};
g.S.z_=function(Q){Q===this.player.getVideoData().videoId&&(this.loaded?vss(this):this.load())};
g.S.ZC=function(){var Q;return((Q=this.Z)==null?void 0:Q.isAvailable())||this.Ze};
g.S.t_=function(){return!!this.Z&&this.Z.L};
g.S.zy=function(Q,z,H){z=z===void 0?!1:z;this.ZC();this.Z&&(Q?H?l3(this.Z,H,z):l3(this.Z,"YOUTUBE_DRAWER_AUTO_OPEN",z):RF(this.Z))};
g.S.xK=function(Q,z){this.player.publish(Q?"cardsteasershow":"cardsteaserhide",z)};
g.S.zv=function(){this.player.C().f3.unsubscribe("vast_info_card_add",this.z_,this);g.vO(this.player.getRootNode(),g.WB.IV_DRAWER_OPEN);for(var Q=this.wh,z=g.Wz,H=0,f=Q.length;H<f;H++)z.xF(Q[H]);this.wh.length=0;g.g3.prototype.zv.call(this)};
g.S.createElement=function(Q){Q=new g.m(Q);g.W(this,Q);return Q.element};g.nA("annotations_module",zft);g.nA("creatorendscreen",Tqu);})(_yt_player);
